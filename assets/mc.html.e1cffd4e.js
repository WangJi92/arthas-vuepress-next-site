import{_ as r,r as n,o as l,c as d,a as e,b as a,w as t,F as i,d as s,e as m}from"./app.1edb3735.js";const p={},h=e("h1",{id:"mc",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#mc","aria-hidden":"true"},"#"),s(" mc")],-1),u={href:"https://arthas.aliyun.com/doc/arthas-tutorials?language=en&id=command-mc-retransform",target:"_blank",rel:"noopener noreferrer"},_=e("code",null,"mc-retransform",-1),b=s(" online tutorial"),f=m(`<blockquote><p>Memory compiler, compiles <code>.java</code> files into <code>.class</code> files in memory.</p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>mc /tmp/Test.java
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>The classloader can be specified with the <code>-c</code> option:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>mc -c 327a647b /tmp/Test.java
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>You can also specify the ClassLoader with the <code>--classLoaderClass</code> option:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ mc --classLoaderClass org.springframework.boot.loader.LaunchedURLClassLoader /tmp/UserController.java -d /tmp
Memory compiler output:
/tmp/com/example/demo/arthas/user/UserController.class
Affect(row-cnt:1) cost in 346 ms
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>The output directory can be specified with the <code>-d</code> option:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>mc -d /tmp/output /tmp/ClassA.java /tmp/ClassB.java
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,8),v=s("After compiling the "),g=e("code",null,".class",-1),x=s(" file, you can use the "),k=s("retransform"),C=s(" command to re-define the loaded classes in JVM."),L=s("Note that the mc command may fail. If the compilation fails, the "),y=e("code",null,".class",-1),w=s(" file can be compiled locally and uploaded to the server. Refer to the "),j=s("retransform"),N=s(" command description for details.");function T(V,B){const c=n("ExternalLinkIcon"),o=n("RouterLink");return l(),d(i,null,[h,e("p",null,[e("a",u,[_,b,a(c)])]),f,e("p",null,[v,g,x,a(o,{to:"/en/doc/retransform.html"},{default:t(()=>[k]),_:1}),C]),e("blockquote",null,[e("p",null,[L,y,w,a(o,{to:"/en/doc/retransform.html"},{default:t(()=>[j]),_:1}),N])])],64)}var q=r(p,[["render",T],["__file","mc.html.vue"]]);export{q as default};
